<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from niryo_one.urdf.xacro           | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<!--
    niryo_one.urdf.xacro
    Copyright (C) 2017 Niryo
    All rights reserved.

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<robot name="niryo_one" xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller" xmlns:interface="http://playerstage.sourceforge.net/gazebo/xmlschema/#interface" xmlns:sensor="http://playerstage.sourceforge.net/gazebo/xmlschema/#sensor" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- Properties -->
  <gazebo reference="ground_link">
    <turnGravityOff>false</turnGravityOff>
  </gazebo>
  <gazebo reference="base_link">
    <turnGravityOff>false</turnGravityOff>
  </gazebo>
  <gazebo reference="shoulder_link">
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <gazebo reference="arm_link">
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <gazebo reference="elbow_link">
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <gazebo reference="forearm_link">
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <gazebo reference="wrist_link">
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <gazebo reference="hand_link">
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <gazebo reference="tool_link">
    <turnGravityOff>true</turnGravityOff>
  </gazebo>
  <!--transmission-->
  <transmission name="base_shoulder_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_1">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="base_shoulder_stepper">
      <mechanicalReduction>6.0625</mechanicalReduction>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </actuator>
  </transmission>
  <transmission name="shoulder_arm_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_2">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="shoulder_arm_stepper">
      <mechanicalReduction>8.3125</mechanicalReduction>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </actuator>
  </transmission>
  <transmission name="arm_elbow_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_3">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_elbow_stepper">
      <mechanicalReduction>7.875</mechanicalReduction>
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </actuator>
  </transmission>
  <transmission name="elbow_forarm_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_4">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="elbow_forarm_motor">
      <mechanicalReduction>5.0</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="forarm_wirst_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_5">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="forarm_wirst_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="wirst_gripper_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_6">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="wirst_gripper_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Links -->
  <link name="ground_link"/>
  <link name="base_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/collada/base_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/base_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="100"/>
      <!--to change-->
      <!-- This 100 kg value is too much but at least it stabilizes the robot well enough -->
      <!-- the other links of the arm were considered solid lines and the inertias were calculated according
           to the link bellow:
           https://en.wikipedia.org/wiki/List_of_moments_of_inertia#List_of_3D_inertia_tensors -->
      <!-- The robot is not always super stable but at least it seems to work -->
      <!-- Maybe also the center of mass has to be fixed -->
      <inertia ixx="0.21666" ixy="0.0" ixz="0.0" iyy="0.32666" iyz="0.0" izz="0.21666"/>
    </inertial>
  </link>
  <link name="shoulder_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/collada/shoulder_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/shoulder_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.4"/>
      <inertia ixx="0.00221" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.00221"/>
    </inertial>
  </link>
  <link name="arm_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/collada/arm_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/arm_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.4"/>
      <inertia ixx="0.0022" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0022"/>
    </inertial>
  </link>
  <link name="elbow_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/collada/elbow_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/elbow_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.4"/>
      <inertia ixx="0.0022" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.022"/>
    </inertial>
  </link>
  <link name="forearm_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/collada/forearm_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/forearm_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.4"/>
      <inertia ixx="0.0022" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="0.0022"/>
    </inertial>
  </link>
  <link name="wrist_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/collada/wrist_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/wrist_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.2"/>
      <inertia ixx="0.0011" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0011"/>
    </inertial>
  </link>
  <link name="hand_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/collada/hand_link.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/hand_link.stl"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.1"/>
      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
    </inertial>
  </link>
  <link name="tool_link">
	</link>
  <!--Joints -->
  <joint name="ground_joint" type="fixed">
    <parent link="ground_link"/>
    <child link="base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <joint name="joint_1" type="revolute">
    <parent link="base_link"/>
    <child link="shoulder_link"/>
    <origin rpy="0 0 0" xyz="0 0 0.103"/>
    <axis xyz="0 0 1"/>
    <limit effort="1" lower="-3.05433" upper="3.05433" velocity="1.0"/>
  </joint>
  <joint name="joint_2" type="revolute">
    <parent link="shoulder_link"/>
    <child link="arm_link"/>
    <origin rpy="1.5707963268 -1.5707963268 0" xyz="0 0 0.08"/>
    <limit effort="1" lower="-1.91986" upper="0.640187" velocity="1.0"/>
    <axis xyz="0 0 1"/>
  </joint>
  <joint name="joint_3" type="revolute">
    <parent link="arm_link"/>
    <child link="elbow_link"/>
    <origin rpy="0 0 -1.5707963268" xyz="0.21 0.0 0"/>
    <limit effort="1" lower="-1.397485" upper="1.5707963268" velocity="1.0"/>
    <axis xyz="0 0 1"/>
  </joint>
  <joint name="joint_4" type="revolute">
    <parent link="elbow_link"/>
    <child link="forearm_link"/>
    <origin rpy="0 1.5707963268 0" xyz="0.0415 0.03 0"/>
    <limit effort="1" lower="-3.05433" upper="3.05433" velocity="1.0"/>
    <axis xyz="0 0 1"/>
  </joint>
  <joint name="joint_5" type="revolute">
    <parent link="forearm_link"/>
    <child link="wrist_link"/>
    <origin rpy="0 -1.5707963268 0" xyz="0 0 0.18"/>
    <limit effort="1" lower="-1.74533" upper="1.91986" velocity="1.0"/>
    <axis xyz="0 0 1"/>
  </joint>
  <joint name="joint_6" type="revolute">
    <parent link="wrist_link"/>
    <child link="hand_link"/>
    <origin rpy="0 1.5707963268 0" xyz="0.0164 -0.0055 0"/>
    <limit effort="1" lower="-2.57436" upper="2.57436" velocity="1.0"/>
    <axis xyz="0 0 1"/>
  </joint>
  <joint name="hand_tool_joint" type="fixed">
    <parent link="hand_link"/>
    <child link="tool_link"/>
    <origin rpy="-1.5707963268 -1.5707963268 0" xyz="0 0 0.0073"/>
  </joint>
  <!--	<xacro:niryo_gripper_1 prefix="gripper_" parent="tool_link" >
	  <origin xyz="0.025 0 -0.013" rpy="${PI/2} ${PI} ${PI/2} " />
	</xacro:niryo_gripper_1> 
-->
  <joint name="gripper_base_joint" type="fixed">
    <origin rpy="1.5707963268 3.14159265359 1.5707963268 " xyz="0.025 0 -0.013"/>
    <parent link="tool_link"/>
    <child link="gripper_base_link"/>
  </joint>
  <!-- BASE LINK -->
  <link name="gripper_base_link">
    <inertial>
      <mass value="0.25"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.000166666666667" ixy="0" ixz="0" iyy="0.000166666666667" iyz="0" izz="0.00025"/>
    </inertial>
    <visual>
      <origin rpy="0 3.14 3.14" xyz="-0.01 0.02 0.05"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_MainSupport.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey">
        <color rgba="0.5 0.5 0.5 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 3.14 3.14" xyz="-0.01 0.02 0.05"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_MainSupport.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="gripper_base_link">
    <material>Gazebo/Black</material>
    <!--turnGravityOff>false</turnGravityOff-->
    <gravity>1</gravity>
  </gazebo>
  <!-- GEAR LEFT LINK -->
  <joint name="gripper_gear_left_joint" type="revolute">
    <parent link="gripper_base_link"/>
    <child link="gripper_gear_left_link"/>
    <origin rpy="0 0 0" xyz="0.016 0.0 0.005"/>
    <axis xyz="0 -1 0"/>
    <limit effort="1000.0" lower="-1.2" upper="0.0" velocity="0.5"/>
  </joint>
  <gazebo reference="gripper_gear_left_joint">
    <implicitSpringDamper>1</implicitSpringDamper>
    <gravity>1</gravity>
  </gazebo>
  <!-- gripper gear left link -->
  <link name="gripper_gear_left_link">
    <inertial>
      <mass value="0.25"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.000166666666667" ixy="0" ixz="0" iyy="0.000166666666667" iyz="0" izz="0.00025"/>
    </inertial>
    <visual>
      <origin rpy="3.14 0.0 0.0" xyz="-0.025 0.02 0.045"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_GearLeft.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0.0 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_GearLeft.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- GEAR RIGHT LINK -->
  <joint name="gripper_gear_right_joint" type="revolute">
    <parent link="gripper_base_link"/>
    <child link="gripper_gear_right_link"/>
    <origin rpy="0 0.0 0.0" xyz="-0.003 0 0.005"/>
    <axis xyz="0 -1 0"/>
    <limit effort="1000.0" lower="0" upper="1.2" velocity="0.5"/>
  </joint>
  <gazebo reference="gripper_gear_right_joint">
    <gravity>1</gravity>
    <implicitSpringDamper>1</implicitSpringDamper>
  </gazebo>
  <!-- gripper gear right link -->
  <link name="gripper_gear_right_link">
    <inertial>
      <mass value="0.25"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.000166666666667" ixy="0" ixz="0" iyy="0.000166666666667" iyz="0" izz="0.00025"/>
    </inertial>
    <visual>
      <origin rpy=" 3.14 0  0 " xyz="-0.008 0.02 0.045"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_GearRight.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0.0 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_GearRight.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- GRIPPER CLAMP LEFT -->
  <joint name="gripper_left_finger_base_joint" type="revolute">
    <parent link="gripper_gear_left_link"/>
    <child link="gripper_left_finger_base_link"/>
    <origin rpy="0 0 0" xyz="0.01 0.0 0.035"/>
    <axis xyz="0 -1 0"/>
    <limit effort="1000.0" lower="-1.2" upper="1.2" velocity="0.5"/>
    <mimic joint="gripper_gear_left_joint" multiplier="-1" offset="0"/>
  </joint>
  <gazebo reference="gripper_left_finger_base_joint">
    <implicitSpringDamper>1</implicitSpringDamper>
    <gravity>1</gravity>
  </gazebo>
  <!-- left finger base link -->
  <link name="gripper_left_finger_base_link">
    <inertial>
      <mass value="0.02"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="6.66666666667e-07" ixy="0" ixz="0" iyy="6.66666666667e-07" iyz="0" izz="1e-06"/>
    </inertial>
    <visual>
      <origin rpy="0 3.14 0" xyz="-0.001 -0.007 0.011"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_Clamp.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0.0 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_Clamp.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- GRIPPER CLAMP RIGHT -->
  <joint name="gripper_right_finger_base_joint" type="revolute">
    <parent link="gripper_gear_right_link"/>
    <child link="gripper_right_finger_base_link"/>
    <origin rpy=" 0 0 0" xyz="-0.01 0.0 0.035"/>
    <axis xyz="0 -1 0"/>
    <limit effort="1000.0" lower="-1.2" upper="1.2" velocity="0.5"/>
    <mimic joint="gripper_gear_right_joint" multiplier="-1" offset="0"/>
  </joint>
  <gazebo reference="gripper_right_finger_base_joint">
    <implicitSpringDamper>1</implicitSpringDamper>
    <gravity>1</gravity>
  </gazebo>
  <!-- right finger base link -->
  <link name="gripper_right_finger_base_link">
    <inertial>
      <mass value="0.02"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="6.66666666667e-07" ixy="0" ixz="0" iyy="6.66666666667e-07" iyz="0" izz="1e-06"/>
    </inertial>
    <visual>
      <origin rpy="0 3.14 3.14" xyz="0.002 0.02 0.011"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_Clamp.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0.0 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 0 0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_Clamp.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- ROD LEFT -->
  <joint name="gripper_rod_left_joint" type="revolute">
    <parent link="gripper_base_link"/>
    <child link="gripper_rod_left_link"/>
    <origin rpy="0 0 0" xyz="0.014 0.0 0.027"/>
    <axis xyz="0 -1 0"/>
    <limit effort="1000.0" lower="-1.2" upper="1.2" velocity="0.5"/>
    <mimic joint="gripper_gear_left_joint" multiplier="1" offset="0"/>
  </joint>
  <gazebo reference="gripper_rod_left_joint">
    <implicitSpringDamper>1</implicitSpringDamper>
    <gravity>1</gravity>
  </gazebo>
  <!-- rod left link -->
  <link name="gripper_rod_left_link">
    <inertial>
      <mass value="0.25"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.000166666666667" ixy="0" ixz="0" iyy="0.000166666666667" iyz="0" izz="0.00025"/>
    </inertial>
    <visual>
      <origin rpy="0.0 0.0 3.14" xyz="0.027 0.02 0.008"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_Rod.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0.0 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_Rod.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- ROD RIGHT -->
  <joint name="gripper_rod_right_joint" type="revolute">
    <parent link="gripper_base_link"/>
    <child link="gripper_rod_right_link"/>
    <origin rpy="0 0 0" xyz="0.0 0.0 0.027"/>
    <axis xyz="0 -1 0"/>
    <limit effort="1000.0" lower="-1.2" upper="1.2" velocity="0.5"/>
    <mimic joint="gripper_gear_right_joint" multiplier="1" offset="0.0"/>
  </joint>
  <gazebo reference="gripper_rod_right_joint">
    <implicitSpringDamper>1</implicitSpringDamper>
    <gravity>1</gravity>
  </gazebo>
  <!-- rod right link -->
  <link name="gripper_rod_right_link">
    <inertial>
      <mass value="0.25"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.000166666666667" ixy="0" ixz="0" iyy="0.000166666666667" iyz="0" izz="0.00025"/>
    </inertial>
    <visual>
      <origin rpy="0.0 0.0 0.0" xyz="-0.027 -0.007 0.008"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_Rod.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="black">
        <color rgba="0.0 0.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_Rod.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <!-- GEORGE_LEFT -->
  <!--joint name="${prefix}george_left_joint" type="revolute">
         <parent link="${prefix}rod_left_link"/>
         <child link="${prefix}left_finger_base_link"/>
            <origin xyz="0.007 10 0.027" rpy="1.57 0 0" />
        <axis xyz="0 -1 0" />
 	 <limit effort="1000.0" lower="-1.2" upper="1.2" velocity="0.5"/>
      </joint-->
  <!--gazebo reference="${prefix}george_left_joint">
        <implicitSpringDamper>1</implicitSpringDamper>
      </gazebo-->
  <!-- george left link -->
  <!--link name="${prefix}george_left_link">
         <inertial>
            <mass value="0.25" />
            <origin xyz="0 0 0" />
            <cylinder_inertia m="0.20" r="0.05" h="0.05" />
         </inertial>

         <visual>
	<origin xyz="0.027 0.02 0.008" rpy="0.0 0.0 3.14" />
            <geometry>
               <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_George.STL" scale="0.001 0.001 0.001"/>
            </geometry>

            <material name="black">
  		<color rgba="0.0 0.0 0.0 1.0"/>
            </material>
         </visual>

         <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0 0 0" />
            <geometry>
               <mesh filename="package://niryo_one_description/meshes/v2/stl/G2_George.STL" scale="0.001 0.001 0.001"/>
            </geometry>
         </collision>
      </link-->
  <!-- GEORGE RIGHT -->
  <!--joint name="${prefix}george_right_joint" type="revolute">
         <parent link="${prefix}rod_right_link"/>
         <child link="${prefix}right_finger_base_link"/>
            <origin xyz="-0.007 0.0 0.027" rpy="0 0 0" />
        <axis xyz="0 -1 0" />
 	 <limit effort="1000.0" lower="-1.2" upper="1.2" velocity="0.5"/>
      </joint-->
  <!--gazebo reference="${prefix}george_right_joint">
        <implicitSpringDamper>1</implicitSpringDamper>
      </gazebo-->
  <!-- Mimic joints -->
  <gazebo>
    <plugin filename="libgazebo_mimic_joint_plugin.so" name="gripper_mimic_gripper2_1">
      <joint>gripper_gear_left_joint</joint>
      <mimicJoint>gripper_rod_left_joint</mimicJoint>
      <multiplier>1.0</multiplier>
      <offset>0.0</offset>
    </plugin>
    <plugin filename="libgazebo_mimic_joint_plugin.so" name="gripper_mimic_gripper2_2">
      <joint>gripper_gear_right_joint</joint>
      <mimicJoint>gripper_rod_right_joint</mimicJoint>
      <multiplier>1.0</multiplier>
      <offset>0.0</offset>
    </plugin>
    <plugin filename="libgazebo_mimic_joint_plugin.so" name="gripper_mimic_gripper2_3">
      <joint>gripper_gear_left_joint</joint>
      <mimicJoint>gripper_left_finger_base_joint</mimicJoint>
      <multiplier>-1.0</multiplier>
      <offset>0</offset>
    </plugin>
    <plugin filename="libgazebo_mimic_joint_plugin.so" name="gripper_mimic_gripper2_4">
      <joint>gripper_gear_right_joint</joint>
      <mimicJoint>gripper_right_finger_base_joint</mimicJoint>
      <multiplier>-1.0</multiplier>
      <offset>0</offset>
    </plugin>
  </gazebo>
  <!-- hack from here: https://github.com/JenniferBuehler/gazebo-pkgs/wiki/The-Gazebo-grasp-fix-plugin -->
  <gazebo>
    <plugin filename="libgazebo_grasp_fix.so" name="gazebo_grasp_fix">
      <arm>
        <arm_name>niryo-arm</arm_name>
        <palm_link>hand_link</palm_link>
        <gripper_link>gripper_left_finger_base_link</gripper_link>
        <gripper_link>gripper_right_finger_base_link</gripper_link>
      </arm>
      <forces_angle_tolerance>100</forces_angle_tolerance>
      <update_rate>4</update_rate>
      <grip_count_threshold>4</grip_count_threshold>
      <max_grip_count>8</max_grip_count>
      <release_tolerance>0.005</release_tolerance>
      <disable_collisions_on_attach>false</disable_collisions_on_attach>
      <contact_topic>__default_topic__</contact_topic>
    </plugin>
  </gazebo>
  <transmission name="gripper_gear_left_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gripper_gear_left_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <!--<hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>-->
    </joint>
    <actuator name="gripper_gear_left_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="gripper_gear_right_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gripper_gear_right_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <!--<hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
        <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>-->
    </joint>
    <actuator name="gripper_gear_right_motor">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!--plugin-->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
  		</plugin>
  </gazebo>
</robot>

